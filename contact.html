<script>
document.getElementById("contactForm").addEventListener("submit", async function (e) {
  e.preventDefault();

  const status = document.getElementById("formStatus");
  status.classList.remove("hidden");
  status.textContent = "Submitting...";
  status.className = "text-sm mt-4 text-gray-400";

  try {
    const response = await fetch(
      "https://gyaanbotics-backend.onrender.com/contact/enquiry",
      {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify({
          name: document.getElementById("name").value.trim(),
          email: document.getElementById("email").value.trim(),
          organization: document.getElementById("organization").value.trim(),
          message: document.getElementById("message").value.trim()
        })
      }
    );

    const data = await response.json();

    if (!response.ok) {
      throw new Error(data.message || "Request failed");
    }

    status.textContent = "✅ Enquiry submitted successfully!";
    status.className = "text-sm mt-4 text-green-400";
    document.getElementById("contactForm").reset();

  } catch (error) {
    console.error("Frontend error:", error);
    status.textContent = "❌ Failed to submit enquiry. Please try again.";
    status.className = "text-sm mt-4 text-red-400";
  }
});
</script>
